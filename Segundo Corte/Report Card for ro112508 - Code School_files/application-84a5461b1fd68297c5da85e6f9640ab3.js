((function(){this.CS={subscriptionPrice:25,payPeriod:"month",payPeriodOffset:"1",reviewOffset:0}})).call(this),function(){}.call(this),function(){$(function(){return window.account={announceBtn:$("#more-announcements"),perPage:5,moreBtnPadding:10,initButtonPage:function(){return this.announceBtn.attr("data-page",1)},initMoreAnnouncementsBtn:function(){var a;return a=this,this.announceBtn.on("click",function(b){return b.preventDefault(),a.getAnnouncements()})},initCodeLove:function(){var a=this;return $('.course-name:contains("Code Love")').on("click",function(a){return a.preventDefault(),window.location.href="http://codeschool.com/codelove"})},getAnnouncements:function(){var a;return this.announceBtn.off(),this.buttonText=this.announceBtn.html(),this.announceBtn.html("Loading..."),a={per_page:this.perPage,page:parseInt(this.announceBtn.attr("data-page"),10)+1},$.get(this.announceBtn.data("url"),a,this.announceSuccessHandler)},announceSuccessHandler:function(a){var b,c,d;return b=account.announceBtn.attr("data-page"),account.announceBtn.attr("data-page",parseInt(b,10)+1),c=account.announceBtn.parent().find(".activity-list"),c.css({overflow:"hidden"}),c.height(c.height()),c.append(account.renderReleaseCollection(a)),d=0,c.find("li").each(function(){return d+=$(this).outerHeight()+account.moreBtnPadding}),c.animate({height:""+d+"px"},function(){return c.height("auto")}),account.initMoreAnnouncementsBtn(),account.announceBtn.html(account.buttonText)},renderRelease:function(a){var b;return b="<li class='"+a["class"]+"'><i class='icn-"+a["class"]+"'/>",a.discontinued||(b+="<a href='"+a.path+"'>"+a.title+"</a>"),b+=" <em>released "+a.released_at+" ago.</em>",b},renderReleaseCollection:function(a){var b,c,d,e;b="";for(d=0,e=a.length;d<e;d++)c=a[d],b+=this.renderRelease(c);return b}},account.initButtonPage(),account.initMoreAnnouncementsBtn(),account.initCodeLove()})}.call(this),function(){$(function(){return window.account_edit={initNewsletterListeners:function(){return $(".subscriptions .subscription-item").on("click",this.subscriptionOptionClickHandler)},subscriptionOptionClickHandler:function(a){var b,c;return a.preventDefault(),c=$(this).attr("data-subscribed"),b=$(this).attr("data-key"),account_edit.toggleSubscription(b,c),account_edit.toggleSubscriptionState(this,c==="true"?!1:!0)},toggleSubscription:function(a,b){var c;return c={option:a,subscribed:b==="true"?!1:!0},$.post("/account/edit_subscriptions.json",c,account_edit.subscriptionSuccessHandler),$.ajax({type:"POST",url:"/account/edit_subscriptions.json",data:c,success:account_edit.subscriptionSuccessHandler,error:account_edit.subscriptionErrorHandler})},subscriptionSuccessHandler:function(a){var b;b=".subscriptions li[data-key="+a.option+"]";if(!a.update_success)return account_edit.toggleSubscriptionState(b,a.subscribed==="true"?!1:!0)},subscriptionErrorHandler:function(a){var b,c,d;return d=this.data.split("&")[1].split("=")[1],c=this.data.split("&")[0].split("=")[1],b=".subscriptions li[data-key="+c+"]",account_edit.toggleSubscriptionState(b,d==="true"?!1:!0)},changeToUnsubscribe:function(a){return $(a).find("a").removeClass("card-active").addClass("card-b").attr("title","Click to add subscription").attr("data-original-title","Click to add subscription"),$(a).find("i").removeClass("icn-check").addClass("icn-circle")},changeToSubscribe:function(a){return $(a).find("a").removeClass("card-b").addClass("card-active").attr("title","Click to remove subscription").attr("data-original-title","Click to remove subscription"),$(a).find("i").removeClass("icn-circle").addClass("icn-check")},toggleSubscriptionState:function(a,b){return b?account_edit.changeToSubscribe(a):account_edit.changeToUnsubscribe(a),$(a).attr("data-subscribed",b)}},account_edit.initNewsletterListeners()})}.call(this),function(){var a;a=function(){function a(a){this.events=a}return a.prototype.send=function(){var a,b,c,d,e,f,g;if(!!this.events){if(!!this.events.mixpanel){f=this.events.mixpanel;for(b=0,d=f.length;b<d;b++)a=f[b],this.mixpanel_send(a)}!this.events.mixpanel_user||this.mixpanel_user_send(this.events.mixpanel_user);if(!!this.events.kissmetrics){g=this.events.kissmetrics;for(c=0,e=g.length;c<e;c++)a=g[c],this.kissmetrics_send(a)}if(!!this.events.kissmetrics_user)return this.kissmetrics_user_send(this.events.kissmetrics_user)}},a.prototype.kissmetrics_send=function(a){return _kmq.push(["record",a.event_name,a])},a.prototype.kissmetrics_user_send=function(a){return _kmq.push(["identify",a.email]),_kmq.push(["set",a])},a.prototype.mixpanel_send=function(a){return window.mixpanel.track(a.mixpanel_event_name,a)},a.prototype.mixpanel_user_send=function(a){return window.mixpanel.people.set(a)},a}(),window.Canary=a}.call(this),function(){var a,b=function(a,b){return function(){return a.apply(b,arguments)}};a=function(){function a(){this.update=b(this.update,this);var a=this;$(document).ready(function(){return a.bind(),a.line_price=parseFloat($("#new_shopping_cart .course").attr("data-unit-price")),$("#new_shopping_cart input.quantity").focus()})}return a.prototype.line_price=null,a.prototype.bind=function(){return $("#new_shopping_cart input.quantity").on("focus",this.select),$("#new_shopping_cart input.quantity").on("keyup",this.update)},a.prototype.update=function(a){var b,c;c=parseInt($("#new_shopping_cart input.quantity").val());if(c!=null&&!isNaN(c)&&c>0)return b=this.line_price*c,b="$"+b.toFixed(2),$("#new_shopping_cart .line-price").text(b),$(".total").text(b)},a.prototype.select=function(a){if(this.value===this.defaultValue)return this.select()},a}(),new a}.call(this),function(){var a,b=function(a,b){return function(){return a.apply(b,arguments)}};a=function(){function a(){this.handleSubmit=b(this.handleSubmit,this),$("#shopping_cart_payment_method_paypal").is(":checked")?this.showPayPal():this.showCreditCard(),$("#shopping_cart_payment_method_creditcard").on("change",this.showCreditCard),$("#shopping_cart_payment_method_paypal").on("change",this.showPayPal),$("#spinner").hide(),$("#new_shopping_cart").submit(this.handleSubmit)}return a.prototype.handleSubmit=function(){if(!$(".paypal-button").is(":disabled"))return $(".paypal-button").attr("disabled","disabled"),this.showSpinner()},a.prototype.showCreditCard=function(){return $(".creditcard-selector label").removeClass("blur"),$(".paypal-selector label").addClass("blur"),$(".paypal").slideUp(150,function(){return $(".creditcard").slideDown(300,function(){return $("#purchase-button").show()})})},a.prototype.showPayPal=function(){return $(".paypal-selector label").removeClass("blur"),$(".creditcard-selector label").addClass("blur"),$("#purchase-button").hide(),$(".creditcard").slideUp(300,function(){return $(".paypal").slideDown(150)})},a.prototype.showSpinner=function(){if($("#shopping_cart_payment_method_paypal").is(":checked"))return $("#spinner").show()},a}(),$(document).ready(function(){return new a})}.call(this),function(){var a;a=function(){function a(a){this.set(a)}return a.prototype.idCount=0,a.prototype.set=function(a){var b=this;return this.notes=$(a),this.notes.on("click",".flash",function(a){return a.preventDefault(),b["delete"]($(a.currentTarget))}).on("mouseenter",function(){return clearInterval(b.interval)}).on("mouseleave",function(){return b.interval=b.poll()})},a.prototype["new"]=function(a){var b;return b=$(this.create(a)).appendTo(this.notes),setTimeout(function(){return b.addClass("in")},1),this.notes.children().not(".error").length<2&&(clearInterval(this.interval),this.interval=this.poll()),b.data("id")},a.prototype.create=function(a){return this.idCount+=1,"<li class='flash "+a.type+"' data-id='"+this.idCount+"'>"+(""+a.message)+'<a class="close" href="#">x</a>'+"</li>"},a.prototype["delete"]=function(a){var b=this;if(!a)return;return a!=null&&a.removeClass("in").addClass("out"),setTimeout(function(){return b.bury(a)},1e3*this.notes.length)},a.prototype.bury=function(a){var b;return a.removeClass("out"),a=a,a.remove(),b=$(".notes-log"),b.length>0?b.append(a):(b=$("<ul class='notes-log' style='display:none'>"),$("body").append(b),b.append(a))},a.prototype.poll=function(){var a=this;return setInterval(function(){return a.update()},3e3)},a.prototype.getNoteById=function(a){return this.notes.find("[data-id='"+a+"']")},a.prototype.update=function(){var a;return a=this.notes.children().not(".error").first(),a.length===0?clearInterval(this.interval):this["delete"](a)},a}(),window.CS.Note=a}.call(this),function(){var a;a=function(){function a(a,b){this.message=a,this.title=b}return a.prototype.send=function(a){var b=this;return this.supported?this.askPermission(a,function(){return window.webkitNotifications.createNotification("/assets/icn-error.png",b.message,b.title).show()}):a()},a.prototype.supported=!1,a.prototype.askPermission=function(a,b){return window.webkitNotifications.checkPermission()===0?b():window.webkitNotifications.requestPermission(function(){return window.webkitNotifications.checkPermission()===0?b():a()})},a}(),window.NotificationMessage=a}.call(this),function(){var a;a=function(){function a(){var a=this;$(document).ready(function(){return a.transferFromCookies(),a.insertMessages()})}return a.prototype.data={},a.prototype.transferFromCookies=function(){var a;return a=this.loadJSON(this.readCookie()),a==null&&(a={}),this.data=a},a.prototype.insertMessages=function(){var a,b,c;c=[];for(b in this.data)"analytics"===b?c.push(this.execute(this.loadJSON(this.data[b]),function(a){if(a!=null)return(new Analytics).trackEvent(a)})):"_adr_conv"===b?c.push(this.execute(this.loadJSON(this.data[b]),function(a){if(a!=null)return window.adroll_conversion=function(){return window.__adroll.record_user(a)}})):"_adr_enro"===b?c.push(this.execute(this.loadJSON(this.data[b]),function(a){if(a!=null)return window.adroll_enrollment=function(){return window.__adroll.record_user(a)}})):"_gae"===b?c.push(this.execute(this.loadJSON(this.data[b]),function(a){if(a!=null)return(new GoogleRails.GoogleAnalytics).trackEvent(a)})):"_gac"===b?c.push(this.execute(this.loadJSON(this.data[b]),function(a){if(a!=null)return(new GoogleRails.GoogleAnalytics).trackEcommerce(a)})):"_awc"===b?c.push(this.execute(this.loadJSON(this.data[b]),function(a){if(a!=null)return(new GoogleRails.GoogleAdWords).track(a)})):"_zfc"===b?c.push(this.execute(this.loadJSON(this.data[b]),function(a){if(a!=null)return(new Zferral).track(a)})):"_ksc"===b?c.push(this.execute(this.loadJSON(this.data[b]),function(a){if(a!=null)return(new Kiss).convert(a)})):"_kss"===b?c.push(this.execute(this.loadJSON(this.data[b]),function(a){if(a!=null)return(new Kiss).signup(a)})):"_ksi"===b?c.push(this.execute(this.loadJSON(this.data[b]),function(a){if(a!=null)return(new Kiss).identify(a)})):"_ksr"===b?c.push(this.execute(this.loadJSON(this.data[b]),function(a){if(a!=null)return(new Kiss).set(a)})):"_kshp"===b?c.push(this.execute(this.loadJSON(this.data[b]),function(a){if(a!=null)return(new Kiss).hallpass(a)})):"_canary"===b?c.push(this.execute(this.loadJSON(this.data[b]),function(a){if(a!=null)return(new Canary(a)).send()})):"_"===b[0]?this.data[b]!=null?c.push($("body").append(unescape(this.data[b].toString()))):c.push(void 0):(a=new window.CS.Note(".notes"),c.push(a["new"]({type:""+b,message:""+unescape(this.data[b])})));return c},a.prototype.loadJSON=function(a){return $.parseJSON(a)},a.prototype.execute=function(a,b){var c,d,e,f;if(a!=null&&"[object Array]"===Object.prototype.toString.call(Object(a))){f=[];for(d=0,e=a.length;d<e;d++)c=a[d],f.push(b(c));return f}return b(a)},a.prototype.readCookie=function(){var a;return a=$.cookie("flash"),a!=null&&(a=a.replace(/\+/g," ").replace(/%2B/g,"+")),$.cookie("flash",null,{path:"/"}),a},a}(),new a}.call(this),function(){var a;a=function(){function a(){this.init()}return a.prototype.init=function(){var a=this;return this.heroes=$(".hero-slide"),this.hero=this.heroes.first(),this.next=$(".hero .next"),this.play=$(".hero-link"),this.prev=$(".hero .prev"),this.site=$("body"),this.setHero(this.hero),this.next.on("click",function(b){return b.preventDefault(),a.setHero(a.nextHero(a.hero))}),this.prev.on("click",function(b){return b.preventDefault(),a.setHero(a.prevHero(a.hero))}),$(document).on("keydown",function(b){switch(b.which){case 39:return a.setHero(a.nextHero(a.hero));case 37:return a.setHero(a.prevHero(a.hero))}})},a.prototype.setHero=function(a){return this.heroes.removeClass("active last-active"),this.hero!==a&&this.hero.addClass("last-active"),this.setThumbs(a),this.setLink(a),this.setText(a),this.hero=a.addClass("active")},a.prototype.nextHero=function(a){var b;return b=a.next().length>0?a.next():this.heroes.first()},a.prototype.prevHero=function(a){var b;return b=a.prev().length>0?a.prev():this.heroes.last()},a.prototype.setThumbs=function(a){var b,c;return b=this.nextHero(a),c=this.prevHero(a),this.next.find("img").attr({src:b.data("thumb"),alt:b.find("h2").text()}),this.prev.find("img").attr({src:c.data("thumb"),alt:c.find("h2").text()})},a.prototype.setLink=function(a){if(a.data("link"))return this.play.attr("href",a.data("link"))},a.prototype.setTheme=function(a){return a.data("theme")==="dark"?this.site.addClass("dark"):this.site.removeClass("dark")},a.prototype.setText=function(a){return $(".primary a").text(a.data("text"))},a}(),window.CS.Hero=a}.call(this),function(){var a,b=function(a,b){return function(){return a.apply(b,arguments)}};a=function(){function a(a){this.userErrorHandler=b(this.userErrorHandler,this),this.userCreationErrorHandler=b(this.userCreationErrorHandler,this),this.userCreationSuccessHandler=b(this.userCreationSuccessHandler,this),this.setup(a)}return a.prototype.setup=function(a){return this.options=a,this.States.options=this.options,this.States.promotionEnabled=!0,this.groupQuantity=1,CS.queryParams().team==="true"?(this.state="team",this.States.hidePaypal()):this.state="individual",this.notes=new CS.Note(".notes"),this.setPlan(),this.setPayment(),this.initBlurValidation(),this.initSignup(),this.initSignInButton(),this.initSignUpButton(),this.initSeatCounter(),this.initPromotionSelector(),this.initTogglePaymentSchedule(),this.initRenderOrderTotal(),this.initRenderPrice(),this.initHandleEnrollErrors()},a.prototype.setPlan=function(){var a=this;return this.options.select.on("click",function(b){var c;return b.preventDefault(),c=$(b.currentTarget),$(".enroll-select").removeClass("active"),c.toggleClass("active"),a.state=c.find("a").data("state"),a.state==="team"?a.States.teamSubscription(c):a.States.individualSubscription(c)})},a.prototype.initSeatCounter=function(){var a=this;return this.options.cartForm.find(".seat-input").on("input",function(b){var c;return c=$(b.currentTarget).val(),a.States.renderOrderTotal()})},a.prototype.initBlurValidation=function(){var a=this;return this.options.inputs.on("blur",function(b){return a.validate(b.currentTarget)})},a.prototype.validate=function(a){var b,c,d;b=$(a),b.val()===""?c="Please enter a value.":b.attr("type")==="email"&&!/\S+@\S+\.\S+/.test(b.val())?c="Invalid Email Address":b.attr("type")==="password"&&b.val().length<6?c="Your password needs to be at least 6 characters long":b.attr("id")==="new_user_registration_username"&&!/^[a-zA-Z_-](?!.*([_-])\1)[A-Za-z0-9_-]+$/i.test(b.val())?c="Your username can't start with a number, and should only have letters & numbers without spaces.":(b.removeClass("error"),b.tooltip("destroy"),b.addClass("success"),d=this.notes.getNoteById(b.data("note-id")),d&&this.notes["delete"](d));if(c)return this.setErrorMessage(b,c)},a.prototype.setErrorMessage=function(a,b){return this.triggerNoteOn(a,b),a.removeClass("success"),a.addClass("error"),a.tooltip("destroy"),a.tooltip({title:b})},a.prototype.triggerNoteOn=function(a,b){var c,d;c=this.notes.getNoteById(a.data("note-id"));if(c.length>0&&$(c).html().indexOf(b)===-1||c.length===0)return c&&this.notes["delete"](c),d=this.notes["new"]({type:"error",message:b}),a.data("note-id",d)},a.prototype.setPayment=function(){return this.options.payment.on("change",function(a){var b;return b=$(this).val(),b==="credit_card"?$(".credit-card").show():$(".credit-card").hide()})},a.prototype.initTogglePaymentSchedule=function(){var a=this;return this.options.cartForm.addClass("interval-"+CS.payPeriod),this.options.togglePaymentSchedule.on("click",function(b){var c,d,e;return b.preventDefault(),a.States.hidePaypal(),CS.payPeriod=$(b.target).data("schedule"),a.options.cartForm.removeClass("interval-month").removeClass("interval-year").addClass("interval-"+CS.payPeriod),d=CS.products["single_"+CS.payPeriod],a.options.select.parent().find(".single").data("id",d.id).data("interval",CS.payPeriod).data("price",d.price).data("list-price",d.list_price).data("secret",d.secret),e=CS.products["group_"+CS.payPeriod],a.options.select.parent().find(".group").data("id",e.id).data("interval",CS.payPeriod).data("price",e.price).data("list-price",e.list_price).data("secret",e.secret),c=a.options.select.parent().find(".active"),c.trigger("click"),CS.payPeriod==="month"?(a.States.promotionEnabled=!0,c.hasClass(".single")&&a.options.promotionSelector.removeClass("l-hide")):(a.States.promotionEnabled=!1,a.options.promotionSelector.addClass("l-hide")),a.States.renderOrderTotal()})},a.prototype.initPromotionSelector=function(){var a,b,c,d=this;return c=this.options.promotionSelector.find(".promotions-toggle"),a=this.options.promotionSelector.find("ul"),b=this.options.promotionSelector.find("li"),c.on("click",function(b){return b.preventDefault(),a.toggleClass("is-visible")}),b.on("click",function(b){var e,f,g;return b.preventDefault(),e=$(b.currentTarget),f=e.find("input"),g=e.find("span").html(),d.options.promotionSelector.find("input").attr("checked",null),f.attr("checked","checked"),c.html(""+g+" <i class='caret'></i>"),a.removeClass("is-visible"),d.States.renderOrderTotal()})},a.prototype.initSignUpButton=function(){var a=this;return this.options.signUpButton.on("click",function(b){return b.preventDefault(),a.States.signUpForm()})},a.prototype.initSignup=function(){var a=this;return this.options.signUpSubmit.on("click",function(b){var c;return b.preventDefault(),a.createUserSubmitClicked?!1:($.each(a.options.signUpForm.find(".required input"),function(b,c){return a.validate(c)}),c=$(b.currentTarget),a.options.signUpForm.find(".required input.error").length>0?a.triggerNoteOn(c,'Please fix fields marked with an "X" before continuing'):(c.attr("data-label",c.val()),c.val("Creating..."),a.createUserSubmitClicked=!0,a.createUser()))})},a.prototype.createUser=function(){var a,b;return b=this.options.signUpForm,a={utf8:"âœ“",authenticity_token:b.find("input[name=authenticity_token]").val(),user:{email:b.find('input[name="new_user_registration[email]"]').val(),username:b.find('input[name="new_user_registration[username]"]').val(),password:b.find('input[name="new_user_registration[password]"]').val(),newsletter:1}},$.ajax({url:b.find(".form--auth").data("url"),data:a,type:"POST",success:this.userCreationSuccessHandler,error:this.userCreationErrorHandler,dataType:"json"})},a.prototype.userCreationSuccessHandler=function(a){var b;return this.createUserSubmitClicked=!1,b=this.options.signUpForm.find("input[type=submit]"),b.val("Create Account"),this.options.signUpForm.find("input:not([type=submit])").val(""),this.States.userExists(a),this.options.userSignedIn=!0},a.prototype.userCreationErrorHandler=function(a){var b;return this.createUserSubmitClicked=!1,b=this.options.signUpForm.find("input[type=submit]"),b.val("Create Account"),this.userErrorHandler(a)},a.prototype.userErrorHandler=function(a){var b,c,d,e;d=this.options.signUpForm.find("input[type=submit]"),c=JSON.parse(a.responseText),e=[];for(b in c)b==="error"?e.push(this.triggerNoteOn(d,""+b+": "+c[b])):e.push(this.setErrorMessage(this.options.signUpForm.find("input[name='new_user_registration["+b+"]']"),""+b+": "+c[b][0]));return e},a.prototype.signOutUser=function(){return $.get("/users/sign_out",{surpress_flash:!0}),this.options.userSignedIn=!1},a.prototype.initSignInButton=function(){var a=this;return this.options.signInButton.on("click",function(b){return b.preventDefault(),a.options.userSignedIn&&($(".form-account").removeClass("is-complete"),a.signOutUser()),a.States.signInForm()})},a.prototype.initHandleEnrollErrors=function(){return this.States.handleEnrollErrors()},a.prototype.initRenderOrderTotal=function(){var a;a=$(".new_shopping_cart").hasClass("interval-month");if(a)return this.States.renderOrderTotal()},a.prototype.initRenderPrice=function(){var a;a=$(".new_shopping_cart").hasClass("interval-month");if(a)return this.States.renderPrice()},a.prototype.States={init:function(a){return this.options=a},gravatarForEmail:function(a){return"//www.gravatar.com/avatar/"+md5(a)+".jpg?s=50"},userExists:function(a){return this.options.accountDescription.hide(),this.options.signInForm.hide(),this.options.signUpForm.hide(),this.options.signedInUser.show(),this.options.signedInUser.find(".email").html(a.email),this.options.signedInUser.find("img").attr("src",this.gravatarForEmail(a.email)),this.options.paymentForm.removeClass("inactive")},teamSubscription:function(a){return this.options.cartForm.find(".product-id").val(a.data("id")),this.options.cartForm.find(".product-secret").val(a.data("secret")),$(".seat-select").addClass("active"),this.options.promotionSelector.addClass("l-hide"),this.promotionEnabled=!1,CS.subscriptionPrice=a.data("list-price"),CS.updatePrice(this.options.cartForm.find(".seat-input").val(),this.options.price),this.hidePaypal(),this.renderOrderTotal()},individualSubscription:function(a){return this.options.cartForm.find(".product-id").val(a.data("id")),this.options.cartForm.find(".product-secret").val(a.data("secret")),this.options.cartForm.find(".product-quantity").val(a.data("quantity")),this.options.price.html("$"+a.data("price")+" <b>per "+a.data("interval")+"</b>"),$(".seat-select").removeClass("active"),CS.subscriptionPrice=a.data("list-price"),this.options.cartForm.find(".seat-input").val(a.data("quantity")).trigger("input"),a.data("interval")==="month"&&(this.showPaypal(),a.data("price")===25&&(this.promotionEnabled=!0),this.options.promotionSelector.removeClass("l-hide")),this.renderOrderTotal()},signInForm:function(){return this.options.signedInUser.hide(),this.options.signUpForm.hide(),this.options.accountDescription.show(),this.options.signInForm.show(),this.options.paymentForm.addClass("inactive")},signUpForm:function(){return this.options.signedInUser.hide(),this.options.signInForm.hide(),this.options.accountDescription.show(),this.options.signUpForm.show(),this.options.paymentForm.addClass("inactive")},hidePaypal:function(){return this.options.paymentForm.find(".paypal-payment").hide(),this.paypal=this.options.paymentForm.find(".paypal-payment input").is(":checked"),this.options.paymentForm.find(".credit-card-payment input").attr("checked","checked").trigger("change")},showPaypal:function(){this.options.paymentForm.find(".paypal-payment").show();if(this.paypal)return this.options.paymentForm.find(".paypal-payment input").attr("checked","checked").trigger("change")},renderOrderTotal:function(){var a,b,c,d,e,f;f=this.options.paymentForm.find(".total"),d=this.options.cartForm.find(".seat-input").val();if(d===""||isNaN(d))d=1;return e=parseInt(this.options.select.parent().find(".active").data("price"),10)*parseInt(d,10),c=this.options.promotionSelector.find("input[checked=checked]").data("value"),a=f.find("ul"),b=this.options.select.parent().find(".active").data("title"),a.find(".line-item.product").html(""+b+"<strong>$"+e+"</strong>"),this.promotionEnabled&&c&&(e-=c),e<0&&(e=0),e===0?($(".form-payment .options").addClass("l-hide"),$(".credit-card").addClass("l-hide")):($(".form-payment .options").removeClass("l-hide"),$(".credit-card").removeClass("l-hide")),f.find("h3 b").html("$"+e)},renderPrice:function(){var a,b,c;return c=this.options.paymentForm.find(".total"),a=c.find("ul"),b=a.find(".line-item.product strong").html(),$(".price h4").html(b)},handleEnrollErrors:function(){var a,b,c,d,e;return CS.payPeriod=this.options.payPeriod,this.options.cartForm.removeClass("interval-month").removeClass("interval-year").addClass("interval-"+CS.payPeriod),a=this.options.products,c="single_"+CS.payPeriod,b=a[c],this.options.individualProduct.data("id",b.id).data("interval",CS.payPeriod).data("price",b.price).data("list-price",b.list_price).data("secret",b.secret),e="group_"+CS.payPeriod,d=a[e],this.options.teamProduct.data("id",d.id).data("interval",CS.payPeriod).data("price",d.price).data("list-price",d.list_price).data("secret",d.secret),CS.payPeriod==="month"?(this.promotionEnabled=!0,this.options.activeProduct.hasClass(".single")&&this.options.promotionSelector.removeClass("l-hide")):(this.promotionEnabled=!1,this.options.promotionSelector.addClass("l-hide")),this.renderOrderTotal(),this.renderPrice()}},a}(),window.CS.Enroll=a}.call(this),function(){var a;a=function(){function a(a){this.setup(a)}return a.prototype.setup=function(a){var b=this;this.options=a,this.slide=this.options.slides.first(),this.step=this.options.steps.first(),this.options.tour.modal("show"),this.setSlide(this.slide),this.setStep(this.step),this.options.next.on("click",function(a){return a.preventDefault(),b.setSlide(b.nextSlide(b.slide)),b.setStep(b.slide)}),this.options.steps.on("click",function(a){var c,d;return a.preventDefault(),c=$(a.currentTarget),d=$(b.options.slides).filter("[data-step="+c.data("step")+"]"),b.setSlide(d),b.setStep(d)});if(this.options.set_username_form.length>0)return this.options.set_username_form.bind("ajax:complete",function(a,c,d){var e;return e=b.options.set_username_form.find('input[type="text"]'),d==="error"?(e.wrap("<p class=error />").wrap("<span class=field_with_errors />"),window.CS.notifyError("Username already taken, please enter another one")):(b.options.set_username_form.fadeOut(),window.CS.clearNotifications(),$(".help.url-preview").after("<span class=checkmark></span>"))})},a.prototype.setSlide=function(a){return this.options.slides.removeClass("is-visible"),this.slide=a.addClass("is-visible")},a.prototype.nextSlide=function(a){return a.next().length>0?(a.next().data("step")==="three"&&this.options.next.text("Get Started"),a.next()):this.options.tour.modal("hide")},a.prototype.setStep=function(a){return this.options.steps.removeClass("active"),this.step=$(this.options.steps).filter("[data-step="+a.data("step")+"]").addClass("active")},a}(),window.CS.Tour=a}.call(this),function(){var a,b=function(a,b){return function(){return a.apply(b,arguments)}};a=function(){function a(a){var c,d=this;this.selector=a,this.redraw=b(this.redraw,this),this.connections=[],this.init(this.selector),c=_.debounce(this.redraw,100),$(window).on("resize",function(){return d.canvas.unbind("update"),d.container.find("svg").remove(),c()})}return a.prototype.init=function(a){return this.selector=a!=null?a:"body",this.container=$(this.selector),this.canvas=(new Two({height:this.container.height(),width:this.container.width()})).appendTo(this.container[0]),this.canvas_offsetx=this.container.offset().left,this.canvas_offsety=this.container.offset().top},a.prototype.connect=function(a,b){var c,d,e,f,g,h,i,j=this;return c=$(a),f=c.offset().left+c.width()/2-this.canvas_offsetx,h=c.offset().top+c.height()/2-this.canvas_offsety,d=$(b),g=d.offset().left+d.width()/2-this.canvas_offsetx,i=d.offset().top+d.height()/2-this.canvas_offsety,e=this.canvas.makeLine(f,h,g,i),e.opacity=0,e.scale=0,this.canvas.bind("update",function(a){return e.opacity<1?(e.scale+=.05,e.opacity+=.05):j.canvas.unbind("update")}).play()},a.prototype.draw=function(a,b){return this.connect(a,b),this.connections.push([a,b])},a.prototype.redraw=function(){var a,b,c,d,e;this.init(this.selector),d=this.connections,e=[];for(b=0,c=d.length;b<c;b++)a=d[b],e.push(this.connect(a[0],a[1]));return e},a}(),window.Connection=a}.call(this),function(){var a;a=function(){function a(a){this.init(a)}return a.prototype.init=function(a){return this.badge=$(a),this.data=this.badge.data(),this.parent=this.badge.parent(),this.title=this.badge.attr("title"),this.infoLink=this.badge.attr("href"),this.events()},a.prototype.events=function(){var a=this;return this.badge.hoverIntent(function(){return a.addPopup()},function(){return a.removePopup()})},a.prototype.buildPopup=function(){return $("<div class='l-card--a course-popup path-"+this.data.path+"'>      <h3 class='course-popup-title'><a href='"+this.infoLink+"'>"+this.title+"</a></h3>      <div class='course-popup-content'>        <p>"+this.data.content+"</p>      </div>      <ul class='course-popup-actions'>        "+this.buildPopupControls(this.data.path)+"      </ul>    </div>")},a.prototype.buildPopupControls=function(a){return a==="enroll"?"<li><a href='"+this.data.play+"' class='btn btn-b btn-small btn-thin btn-block'>Enroll Now</a></li>":"        <li><a href='"+this.data.play+"' class='btn btn-a btn-small btn-thin btn-iblock'>Play Course</a></li>        <li><a href='"+this.infoLink+"' class='btn btn-c btn-small btn-thin btn-iblock'>View More Info</a></li>      "},a.prototype.addPopup=function(){var a,b=this;return this.popup=this.buildPopup(),this.popup.on("mouseenter",function(){return b.clear()}),this.popup.on("mouseleave",function(){return b.removePopup()}),this.clear(),$(".course-popup").remove(),this.parent.css("position","relative").append(this.popup),a=this.popup.outerHeight()+25,this.popup.css("top","-"+a+"px"),this.popup.addClass("is-visible")},a.prototype.removePopup=function(){var a=this;return this.timeoutId=setTimeout(function(){return a.popup.remove()},650)},a.prototype.clear=function(){if(this.timeoutId!=null)return clearTimeout(this.timeoutId)},a}(),window.CS.CoursePopup=a}.call(this),function(){var a;a=function(){function a(a){this.options=a,this.options.total<=1||this.init()}return a.prototype.init=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=this;this.badge=$(this.options.selector),f=this.badge.height(),m=this.badge.width(),i={x:m/2,y:f/2},h=function(a){return a/y.options.total*360/(180/Math.PI)},c=(new Two({height:f,width:m})).appendTo(this.badge[0]),e=[],s=[],l=[];if(this.options.total>2)for(g=1,x=this.options.total;1<=x?g<=x:g>=x;1<=x?g++:g--)k=g-1||this.options.total,t=i.x-Math.sin(-h(g))*m,v=i.y-Math.cos(-h(g))*f,u=i.x-Math.sin(-h(k))*m,w=i.y-Math.cos(-h(k))*f,j=[new Two.Vector(i.x,i.y),new Two.Vector(t,v),new Two.Vector(u,w)],e.push(c.makeLine(i.x,i.y,t,v)),s.push(new Two.Polygon(j,closed)),l.push(j.slice(0));else for(g=1;g<=2;g++)b=Math.abs(g-2)*i.x,j=[new Two.Vector(b,0),new Two.Vector(b+i.x,0),new Two.Vector(b+i.x,f),new Two.Vector(b,f)],e.push(c.makeLine(b+i.x,0,b+i.x,f)),s.push(new Two.Polygon(j,closed));return q=c.makeGroup(s),q.stroke="none",q.fill="#181b21",q.opacity=0,d=c.makeGroup(e),d.linewidth="2px",d.stroke="#efeddf",d.opacity=0,n=5,p=15,r=100,o=100+this.options.completed*p,a=s.slice(0,this.options.completed),c.bind("update",function(b){var f,g,h,i,j,k,m;b>40&&b<=65&&(d.opacity+=.04,q.opacity+=.035);if(b>r&&b<=o)for(f=0,m=a.length;f<m;f++){j=a[f],k=f*p+100;if(k<b){y.options.total>2?(g=(b+n-k)*(1/p),i=l[f][2].clone(),h=l[f][1].clone(),j.vertices[2].copy(i.lerp(h,g))):j.opacity-=1/p;if(y.options.completed>f+1||y.options.total===f+1)e[f].opacity-=1/p}}if(b>o)return c.unbind("update")}).play()},a.prototype.redraw=function(){return this.badge.find("svg").remove(),this.init()},a}(),window.CS.BadgeProgress=a}.call(this),function(){var a,b=function(a,b){return function(){return a.apply(b,arguments)}};a=function(){function a(){this.releasesAvailable=b(this.releasesAvailable,this),this.canDisplayBanner=b(this.canDisplayBanner,this),this.displayNextRelease=b(this.displayNextRelease,this),this.cleanOldReleaseIDs=b(this.cleanOldReleaseIDs,this),this.parseLastCourseInfo=b(this.parseLastCourseInfo,this),this.parseRecentCourseIDs=b(this.parseRecentCourseIDs,this),this.isValidRelease=b(this.isValidRelease,this),this.getHiddenReleaseIDs=b(this.getHiddenReleaseIDs,this),this.addBanner=b(this.addBanner,this),this.closeBanner=b(this.closeBanner,this),this.dismissBanner=b(this.dismissBanner,this),this.addToHiddenReleases=b(this.addToHiddenReleases,this),this.removeBanner=b(this.removeBanner,this),this.isHidden=b(this.isHidden,this),this.hiddenReleaseIDs=[],this.recentCourseIDs=[],this.releases=[],this.init()}return a.prototype.init=function(){return this.getHiddenReleaseIDs(),this.fetchReleases()},a.prototype.isHidden=function(a){var b,c;return b=(c=_.indexOf(this.hiddenReleaseIDs,a)!==-1)!=null?c:{"true":!1},b},a.prototype.buildTemplate=function(a){return $("<div class='banner path-"+a.path.toLowerCase().replace("/","-")+"' data-course-id='"+a.id+"'>        <a class='banner-close' href='#'>x</a>        <p>          <strong>New course:</strong>          <a href='"+
a.link+"' class='release-link'>"+a.title+"</a>        </p>      </div>")},a.prototype.removeBanner=function(a){var b;b=this;if(a.hasClass("banner-close"))return a.parent().toggleClass("is-visible").promise().done(function(){return $(this).remove(),b.displayNextRelease()})},a.prototype.addToHiddenReleases=function(a){return this.hiddenReleaseIDs&&this.hiddenReleaseIDs.length>0?(this.hiddenReleaseIDs.push(a),$.cookie("hidden_releases",this.hiddenReleaseIDs.toString())):$.cookie("hidden_releases",a)},a.prototype.dismissBanner=function(a){var b;return this.getHiddenReleaseIDs(),b=$(a.currentTarget).parents(".banner").data("course-id"),this.addToHiddenReleases(b)},a.prototype.closeBanner=function(a){return this.dismissBanner(a),this.removeBanner($(a.currentTarget)),a.preventDefault()},a.prototype.addBanner=function(a){return this.banner=this.buildTemplate(a),this.canDisplayBanner(a)?($("body").prepend(this.banner),setTimeout(function(){return $(".banner").addClass("is-visible")},250)):this.cleanOldReleaseIDs(),this.banner.on("click",".banner-close",this.closeBanner),this.banner.on("click",".release-link",this.dismissBanner)},a.prototype.getHiddenReleaseIDs=function(){var a;a=$.cookie("hidden_releases");if(a)return this.hiddenReleaseIDs=_.map(a.split(","),function(a){return parseInt(a)})},a.prototype.isValidRelease=function(a){var b,c,d;return d=new Date,c=new Date(d.setDate(d.getDate()-7)),b=new Date(a.raw_released_at),a["class"]!=="new-course"||this.isHidden(a.released_id)||c>b?!1:!0},a.prototype.parseRecentCourseIDs=function(a){return this.recentCourseIDs=_.map(a,function(a){return a.released_id})},a.prototype.parseLastCourseInfo=function(a){var b,c,d,e;for(b=0,e=a.length;b<e;b++){c=a[b];if(!this.isValidRelease(c))continue;d={id:a[b].released_id,title:a[b].title,path:a[b].path_name,link:a[b].path},this.releases.push(d)}return this.displayNextRelease()},a.prototype.cleanOldReleaseIDs=function(){return this.hiddenReleaseIDs=_.select(this.hiddenReleaseIDs,function(a){return _.contains(this.recentCourseIDs,a)}),$.cookie("hidden_releases",this.hiddenReleaseIDs.toString())},a.prototype.displayNextRelease=function(){var a,b,c,d,e;this.getHiddenReleaseIDs();if(this.releasesAvailable){d=this.releases,e=[];for(b=0,c=d.length;b<c;b++){a=d[b];if(this.isHidden(a.id))continue;this.addBanner(a);break}return e}},a.prototype.canDisplayBanner=function(a){return!this.isHidden(a.id)},a.prototype.releasesAvailable=function(){return this.releases.length>0},a.prototype.fetchReleases=function(){return $.ajax({url:window.location.origin+"/releases.json",context:this,success:function(a){if(a.length!==0)return this.parseRecentCourseIDs(a),this.parseLastCourseInfo(a)}})},a}(),window.CS.ReleaseBanner=a,$(document).ready(function(){if($(".home-show").length>0)return new CS.ReleaseBanner})}.call(this),function(){this.CS.PlasticFeel=function(){function a(){}return a.calculateLuhn=function(a){var b,c,d,e,f,g;g=0,e=0;while(e<a.length)g+=parseInt(a.substring(e,e+1)),e++;b=new Array(0,1,2,3,4,-4,-3,-2,-1,0),e=a.length-1;while(e>=0)c=parseInt(a.substring(e,e+1)),d=b[c],g+=d,e-=2;return f=g%10,f=10-f,f===10&&(f=0),f},a.luhnCheck=function(a){var b,c,d;return c=a.replace(/[^\d]/g,""),b=parseInt(c.substring(c.length-1,c.length)),d=c.substring(0,c.length-1),CS.PlasticFeel.calculateLuhn(d)!==parseInt(b)&&!1,!0},a.creditCardTypeFromNumber=function(a){switch(parseInt(a.substring(0,2))){case 34:case 37:return"amex";case 51:case 52:case 53:case 54:case 55:return"mastercard";default:switch(parseInt(a.substring(0,4))){case 6011:return"discover";default:switch(parseInt(a.substring(0,1))){case 4:return"visa";default:return"generic"}}}},a.prototype.detectCardType=function(a){var b,c;return b=a.val(),c=CS.PlasticFeel.creditCardTypeFromNumber(b),CS.PlasticFeel.luhnCheck(b)&&b.length>11?a.parent().addClass("is-valid"):a.parent().removeClass("is-valid"),c},a}()}.call(this),function(){var a=Object.prototype.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};this.CS.CreditCard=function(a){function c(a){this.options=a,this.init()}return b(c,a),c.prototype.init=function(){return this.events()},c.prototype.events=function(){var a=this;return this.options.toggle.on("click",function(b){var c;return b.preventDefault(),c=$(b.currentTarget),c.data("reverse")?a.options.flip.removeClass(a.options.activeClass):a.options.flip.addClass(a.options.activeClass)}),this.options.numberInput.on("focus",function(b){return a.options.cards.addClass(a.options.genericClass)}),this.options.numberInput.on("keyup",function(b){var c;return c=a.detectCardType($(b.currentTarget)),c!=="generic"?(a.clearState(),a.options.cards.filter("[data-type="+c+"]").addClass(a.options.validClass)):(a.clearState(),a.options.cards.addClass(a.options.genericClass))})},c.prototype.clearState=function(){return this.options.cards.removeClass(this.options.validClass)},c}(CS.PlasticFeel)}.call(this),function(){this.CS.BulkRemove=function(){function a(a){this.options=a,this.init()}return a.prototype.init=function(){return this.trash=[],this.isSelecting=!1,this.isSelected=!1,this.events()},a.prototype.events=function(){var a=this;return this.options.remove.on("mousedown",function(b){return b.preventDefault(),a.isSelecting=!0,a.options.container.addClass(a.options.selectingClass)}),this.options["delete"].on("mousedown",function(b){return b.preventDefault(),a.options.item.each(function(b,c){var d;d=$(c);if(d.data("selected")===!0)return a.trash.push(d)}),a.confirm()}),this.options.cancel.on("click",function(b){return b.preventDefault(),a.clear()}),this.options.yes.on("click",function(b){return b.preventDefault(),a.remove()}),this.options.no.on("click",function(b){return b.preventDefault(),a.clear()}),this.options.item.on("click",function(b){var c;b.preventDefault();if(a.isSelecting)return a.isSelected=!0,c=$(b.currentTarget),c.toggleClass(a.options.itemSelectedClass),c.data("selected",c.hasClass(a.options.itemSelectedClass)),a.options.container.addClass(a.options.selectedClass)}),$(document).on("keyup",function(b){switch(b.which){case 27:return a.clear()}})},a.prototype.clearStates=function(){return this.options.container.removeClass(this.options.selectingClass),this.options.container.removeClass(this.options.selectedClass),this.options.container.removeClass(this.options.loadingClass),this.options.item.removeClass(this.options.itemSelectedClass),this.options.bar.removeClass(this.options.confirmingClass),this.trash=[]},a.prototype.confirm=function(){return this.options.bar.addClass(this.options.confirmingClass)},a.prototype.addLoadingState=function(){return this.options.container.addClass(this.options.loadingClass)},a.prototype.clear=function(){return this.isSelecting=!1,this.isSelected=!1,this.clearStates()},a.prototype.getTrash=function(){return this.trash},a}()}.call(this),function(){this.CS.Share=function(){function a(a){this.options=a,this.init()}return a.prototype.init=function(){return this.setConfiguration(),this.injectScripts(),this.setEventHandlers()},a.prototype.setConfiguration=function(){return this.settings={services:["twitter","facebook","google"],elements:{container:$(".share"),toggle:$(".share-toggle"),service:$(".share-service"),item:".share-service-item",activeClass:"is-share-active"},content:{text:$(".share-service--twitter").data("share-text"),url:$(".share").data("share-url")},popup:{height:400,width:575,left:0,top:0},scripts:["//platform.twitter.com/widgets.js"]},$.extend(this.settings,this.options)},a.sanitize=function(a){return a.replace(/(<([^>]+)>)/ig,"")},a.prototype.injectScripts=function(){var a,b,c,d,e;d=this.settings.scripts,e=[];for(b=0,c=d.length;b<c;b++)a=d[b],e.push($("<script async src='"+a+"'></script>").appendTo("body"));return e},a.prototype.setEventHandlers=function(){var a=this;return this.settings.elements.toggle.on("click",function(b){var c;return b.preventDefault(),c=$(b.currentTarget),c.parent().toggleClass(a.settings.elements.activeClass)}),this.settings.elements.service.on("click",this.settings.elements.item,function(b){var c,d;b.preventDefault(),c=$(b.currentTarget),d=a.getServiceType(c.parent());switch(d){case"twitter":return a.handlePopup("twitter");case"facebook":return a.handlePopup("facebook");case"google":return a.handlePopup("google")}})},a.prototype.getServiceType=function(a){return a.attr("class").split(" ")[1].split("--")[1]},a.prototype.handlePopup=function(a){var b,c;b="width="+this.settings.popup.width+",       height="+this.settings.popup.height+",       top="+this.settings.popup.top+",       left="+this.settings.popup.left;switch(a){case"twitter":c="https://twitter.com/share?text="+this.settings.content.text+"&url="+this.settings.content.url;break;case"facebook":c="https://www.facebook.com/sharer/sharer.php?u="+this.settings.content.url,a="facebook-share-dialog";break;case"google":c="https://plus.google.com/share?url="+this.settings.content.url}return window.open(c,a,b)},a}()}.call(this),function(){CS.setup=function(){var a,b;return $('[rel~="tooltip"]').tooltip({animation:!1}),$(".modal").on("shown",function(){return $(this).find("fieldset input").first().focus()}),b=$(".progress"),b.each(function(){var a;return a=$(this),a.animate({width:a.data("width")},1500)}),$(".quick-auth input").on("keydown",function(a){return a.stopPropagation()}),a=0,$(".l-card--path").each(function(b){var c;return c=$(this),a=c.outerHeight()>a?c.outerHeight():a}),$(".l-card--path").each(function(b){return $(this).not(".l-card--path--full").height(a+5)}),CS.clickout({element:$(".share"),run:function(){return $(".share").removeClass("is-share-active")}})}}.call(this),function(){CS.setMyAccountLink=function(){var a,b;b=$.cookie("signed_in")==="true";if(b)return a=$(".login"),a.removeClass("login").html("<a href='"+a.attr("data-account-url")+"'>My Account</a>").after("<li title='Sign Out'><a href='"+a.attr("data-logout-url")+"'>Sign Out</a></li>")},CS.seatSelector=function(a){var b,c,d=this;return b=c=parseInt(a.input.val()),a.input.on("input",function(c){var e,f,g;e=$(c.currentTarget),g=parseInt(c.currentTarget.value[c.currentTarget.value.length-1]),isNaN(g)&&e.val(e.val().substr(0,e.val().length-1)),f=parseInt(e.val());if(f>0&&!isNaN(f))return a.price&&d.updatePrice(e.val(),a.price),b=f;e.val("");if(a.price)return d.updatePrice(1,a.price)}),a.controls.on("click",function(c){return c.preventDefault(),$(this).hasClass("seat-add")?(b++,a.enroll&&CS.updatePrice(b,a.price)):(b<=1||b--,a.enroll&&CS.updatePrice(b,a.price)),a.input.val(b).trigger("input")})},CS.updatePrice=function(a,b){var c;return c=this.subscriptionPrice*a*this.payPeriodOffset,b.html("$"+c+" <b>per "+this.payPeriod+"</b>")},CS.deactivateSelect=function(a){return a.toggle.on("click",function(b){var c;return c=$(this),a.toggle.removeClass("active"),c.addClass("active"),c.hasClass("indefinitely")&&c.data("grandfathered")?(a.desc.removeClass("is-hidden").addClass("is-hidden"),$(".help--forever").removeClass("is-hidden")):(a.desc.removeClass("is-hidden").addClass("is-hidden"),$(".help--interval").removeClass("is-hidden"))})},CS.dashboardFilter=function(a){return a.menu.on("click","a",function(b){var c,d;return b.preventDefault(),c=$(this),d=c.attr("href"),a.menu.find("a").removeClass("is-active"),c.addClass("is-active"),a.content.removeClass("is-visible"),$(d).addClass("is-visible")})},CS.userBar=function(a){var b,c,d;return c=$(".nav--sub-asideLink"),b=$.cookie("hide_userBar"),b!==""&&c.removeClass("l-hide"),b!=="true"&&a.container.addClass("is-userBar-expanded"),a.toggle.on("click",function(b){return b.preventDefault(),d(),a.container.toggleClass("is-userBar-expanded")}),d=function(){return a.container.hasClass("is-userBar-expanded")?($.cookie("hide_userBar","true",{path:"/"}),c.removeClass("l-hide")):($.cookie("hide_userBar","",{path:"/"}),c.addClass("l-hide"))}}}.call(this),function(){CS.scrollReviews=function(a){var b,c,d;return c=$(a.link_selector),b=$(a.append_to),d=c.attr("href"),c.on("click",function(a){return a.preventDefault(),c.addClass("is-loading"),$.get(d,{offset:CS.reviewOffset},function(a){return c.removeClass("is-loading"),CS.reviewOffset=CS.reviewOffset+20,a.length>1?b.append(a):c.remove()})})},CS.badgeHover=function(){return $(".badges .badge").hover(function(){var a,b;return b=$(this),a=$("#"+b.data("large-badge-id")),a.attr("src",b.data("large-url"))},function(){var a,b;return b=$(this),a=$("#"+b.data("large-badge-id")),a.attr("src",a.data("original-url"))})}}.call(this),function(){CS.testimonials=function(a){return a.avatar.on("mouseover",function(b){var c,d;return c=$(this),d=c.data("user"),a.avatar.removeClass("is-testimonial-active is-testimonial-inactive"),a.avatar.addClass("is-testimonial-inactive"),c.removeClass("is-testimonial-inactive").addClass("is-testimonial-active"),a.testimonial.addClass("is-hidden").filter("[data-user='"+d+"']").removeClass("is-hidden")})}}.call(this),function(){CS.paths=function(a){var b;return b=function(b,c){return a.filter.removeClass("is-active"),a.header.removeClass("is-active"),$(a.header).filter("[data-filter="+c+"]").addClass("is-active"),b.addClass("is-active"),$(".swap").removeClass("is-visible"),b.hasClass("filter-paths")?$(".swap--paths").addClass("is-visible"):$(".swap--courses").addClass("is-visible")},window.location.hash==="#all"&&b($(".filter-courses"),"courses"),a.filter.on("click",function(a){var c,d;return c=$(this),d=c.data("filter"),b(c,d)}),a.header.on("click",function(b){var c,d;return c=$(this),d=c.data("filter"),a.header.removeClass("active"),c.addClass("active"),$(".filter-"+d).trigger("click")})},CS.pathTags=function(a){var b,c,d,e,f,g;return f=function(c){var d;return b(),$(a.tag).filter("[data-tag*="+c+"]").addClass(a.tagActiveClass),d=$(a.course).filter("[data-tag*="+c+"]"),$(a.course).not(d).addClass(a.courseInactiveClass)},b=function(){return $(a.tag).removeClass(a.tagActiveClass),$(a.course).removeClass(a.courseInactiveClass)},e=function(){return b(),window.location.hash=""},c=function(a){return a.replace("#","")},window.location.hash&&(d=CS.sanitize(window.location.hash),g=c(d),f(g)),a.tag.on("click",function(b){var c;return b.preventDefault(),c=$(this),c.hasClass(a.tagActiveClass)?e():f(c.data("tag"))})},CS.pathToggle=function(a){return $(a.el).on("click",function(b){return b.preventDefault(),$(a.block).addClass("is-selecting")}),$(a.close).on("click",function(b){return b.preventDefault(),$(a.block).removeClass("is-selecting")})},CS.connect=function(a){var b,c,d,e,f,g,h,i;$(a.canvas).addClass("has-connections"),a.connection=new Connection(a.canvas);if(a.connections){h=a.connections,i=[];for(f=0,g=h.length;f<g;f++)c=h[f],a.scroll?(e=$(window).scrollTop(),d=$(c.selector),a.scrollPadding&&(b=e-d.offset().top>=0-a.scrollPadding),!d.hasClass("is-connected")&&b?(d.addClass("is-connected"),i.push(a.connection.draw(""+c.selector,""+c.connectee))):i.push(void 0)):i.push(a.connection.draw(""+c.selector,""+c.connectee));return i}return a.connection},CS.scrollConnect=function(a){var b;return b=_.throttle(a,250),$(window).on("scroll",b)},CS.pathConnect=function(a,b){return $(b).each(function(){var b,c;return c=$(this),b=c.find(".path-media").attr("id"),c.find(".path-100").each(function(){return a.draw($("#"+b),$(this))}),c.find("li, .course").each(function(){var b,c,d,e,f,g,h;b=(g=$(this).data("connection"))!=null?g.toString().split(" "):void 0,c=$(this).attr("id");if(b!=null){h=[];for(e=0,f=b.length;e<f;e++)d=b[e],h.push(a.draw($("#"+c),$("#"+("course-"+d))));return h}})})}}.call(this),function(){CS.tabs=function(){return $(".tabs-container .tabs-content:first").addClass("is-visible"),$(".tabs a").on("click",function(a){var b,c;return a.preventDefault(),c=$(this),b=c.attr("href"),$(".tabs a").removeClass("active"),c.addClass("active"),$(".tabs-container .tabs-content").removeClass("is-visible"),$(".tabs-container").find(b).addClass("is-visible")})},CS.tabsHash=function(a){var b;b=window.location.hash;if(b&&b===a.hash)return $(".tabs a").removeClass("active"),$(".tabs-container .tabs-content").removeClass("is-visible"),a.activeItem.addClass("active"),a.show.addClass("is-visible")},CS.tabsAuth=function(a){return a.tabs.on("click",function(b){var c;return b.preventDefault(),c=$(this).data("href"),a.tabs.removeClass("active"),$(this).addClass("active"),a.forms.removeClass("is-visible"),$(".auth."+c).addClass("is-visible")})}}.call(this),function(){CS.bulkRemove=function(){var a,b;return b={remove:$(".js-remove"),"delete":$(".bar-control--delete"),cancel:$(".bar-control--cancel"),bar:$(".bar"),yes:$(".bar-link--yes"),no:$(".bar-link--no"),container:$(".team"),item:$(".member"),selectingClass:"is-selecting",selectedClass:"is-selected",itemSelectedClass:"is-team-member-selected",confirmingClass:"is-confirming",loadingClass:"is-loading"},a=new CS.BulkRemove(b),a.remove=function(){return a.addLoadingState(),a.getTrash().length===0&&a.clearStates(),$.each(a.getTrash(),function(b,c){return $.when($.each($(c).data("deleteUrl").split(","),function(a,b){return $.ajax({url:b+".json",type:"DELETE",dataType:"json",error:function(a){return CS.notifyError("There was an error removing the team members.")},success:function(a){return a.errors?CS.notifyError(a.errors):($(c).remove(),CS.updateSubscriptionState(a.subscription),CS.notify(a.notice,"success"))}})})).done(function(){return a.clearStates()})})}},CS.updateSubscriptionState=function(a){var b,c;if(a)return c=a.membership_invitations_count+a.memberships_count,b=a.quantity-c,CS.updateSeats({available:b,used:c})},CS.hideSeatUpdaterForm=function(){return $(".modal").modal("hide")},CS.updateSeats=function(a){return a==null&&(a={}),a.availableSeatsContainer==null&&(a.availableSeatsContainer=$(".seats-available")),a.usedSeatsContainer==null&&(a.usedSeatsContainer=$(".seats-used")),$(a.availableSeatsContainer).text(a.available),$(a.usedSeatsContainer).text(a.used)},CS.updateEmailInputs=function(a){var b,c,d,e,f,g,h,i,j;c=$(".add-member-form .inputs"),f=".form-add-member:last",b=c.children(".form-add-member").length,i=Math.abs(b-a.availableSeats);if(b<a.availableSeats){if(b===0)return d=_.min([i,3]),_(d).times(function(){var a,b;return a=$("<fieldset class='form-add-member input-add' />"),b=$("<input id='email_' name='email[]' type='text'><i class='icn-profile--alt'></i>"),a.append(b),$(c).prepend(a)}),CS.toggleInvitationAbility();g=3,b>=g?h=0:h=i,e=$(f).children("input").val().length>0,_(h).times(function(){return CS.cloneElement({target:f,appendAfter:f}),CS.resetEmailInputField({target:f})});if(h===0&&e)return CS.cloneElement({target:f,appendAfter:f}),CS.resetEmailInputField({target:f}),$(".no-seats-left").addClass("is-hidden")}else if(b>a.availableSeats){_(i).times(function(){return $(f).remove()}),j=c.children(".form-add-member").length;if(j===0)return CS.toggleInvitationAbility()}},CS.cloneElement=function(a){var b;return a==null&&(a={}),b=$(a.target).clone(!0,!0),$(a.appendAfter).after(b)},CS.resetEmailInputField=function(a){return a==null&&(a={}),$(a.target).removeClass("focused").children("input").removeClass("invalid-email").val("")},CS.toggleInvitationAbility=function(){var a,b;return b=$(".form-add-submit").toggleClass("is-hidden").hasClass("is-hidden"),a=$(".invitation-instructions").toggleClass("is-hidden").hasClass("is-hidden"),b&&a?$(".no-seats-left").removeClass("is-hidden"):$(".no-seats-left").addClass("is-hidden")},CS.duplicateAutomatically=function(a){return $(a.delegator).on(a.event,$(a.sender),function(b){var c,d;if($(b.target).parent().is(":last-child")){c=$(b.target),d=c.parent(),a.errorClass!=null&&$(a.errorClass).addClass("is-hidden");if(c.val().length>5&&CS.remainingSeatCount()>0)return CS.cloneElement({target:d,appendAfter:d}),CS.resetEmailInputField({target:$(a.sender).filter(":last").parent()});if(CS.remainingSeatCount()===0&&c.val().length>5&&a.errorClass!=null)return $(a.errorClass).removeClass("is-hidden")}})},CS.remainingSeatCount=function(){var a,b;return a=$(".seats-available").html().match(/\d+/),b=0,_.map($(".form-add-member input"),function(a){if($(a).val().length>0)return b++}),a-b},CS.validateEmails=function(a){return a==null&&(a={}),$(a.container).on("keyup",$(a.target),function(a){var b;return b=$(a.target),$(b).val().length>5?$(b).val().indexOf("@")===-1?($(b).attr("data-valid",!1),$(b).parent().addClass("invalid-email")):($(b).attr("data-valid",!0),$(b).parent().removeClass("invalid-email")):($(b).attr("data-valid",!1),$(b).parent().removeClass("invalid-email"))})},CS.resetOpenInvitationForm=function(){return $(".invite.is-expanded").find("input[type=text]").removeClass("invalid-email error success").val("")},CS.closeOpenInvitationForm=function(){return $(".js-add").removeClass("active"),$(".invite").removeClass("is-expanded")},CS.countUsedSeats=function(a){return a==null&&(a={}),a.subscription.memberships_count+a.subscription.membership_invitations_count},CS.countAvailableSeats=function(a){return a==null&&(a={}),a.subscription.quantity-CS.countUsedSeats({subscription:a.subscription})},CS.handleBatchInvitationResponse=function(a){var b;return a==null&&(a={}),b=_.any(a.response.invitations,function(a){return a.created===!1}),b?(_.each(a.response.invitations,function(a){var b;return b=$("input").filter(function(){return this.value===""+a.email}),a.created?b.parent().addClass("success"):(b.parent().addClass("error"),b.siblings("i").attr({rel:"tooltip",title:""+a.error}),b.siblings("i").tooltip({animation:!1,delay:0,trigger:"hover",template:'<div class="tooltip tooltip-invert"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}))}),$(".form-add-member.error").filter(":first").children("i").tooltip("show")):(CS.resetOpenInvitationForm(),CS.closeOpenInvitationForm(),CS.reloadPage())},CS.listFilter=function(a,b){return $("#search").on("keyup",function(){var a,c;return a=$(this).val(),a?(c=$(b).find(".member-info:not(:Contains("+a+"))"),$(b).find(".member").removeClass("is-hidden"),c.parents(".member").toggleClass("is-hidden")):$(b).find(".member").removeClass("is-hidden")})},jQuery.expr[":"].Contains=function(a,b,c){return(a.textContent||a.innerText||"").toUpperCase().indexOf(c[3].toUpperCase())>=0},$(function(){var a=this;return window.location.hash==="#add-members"&&setTimeout(function(){return $(".js-add-members").trigger("mousedown")},10),window.location.hash==="#add-managers"&&setTimeout(function(){return $(".js-add-managers").trigger("mousedown")},10),CS.listFilter($("#search"),$("#list")),$("#seats-form").on("ajax:complete",function(a,b,c){var d,e,f;if(c==="success")return e=JSON.parse(b.responseText),_.contains(Object.keys(e),"errors")?(e.errors.length>0&&$(".edit_subscription .error").text(e.errors),$(".edit_subscription .error").removeClass("is-hidden")):($(".edit_subscription .error").addClass("is-hidden"),f=CS.countUsedSeats({subscription:e}),d=CS.countAvailableSeats({subscription:e}),CS.updateSeats({available:d,used:f}),CS.updateEmailInputs({availableSeats:d}),CS.hideSeatUpdaterForm())}),$(".add-member-form").on("ajax:complete",function(a,b,c){var d,e,f,g;if(c==="success")return e=JSON.parse(b.responseText),f=e.subscription,g=CS.countUsedSeats({subscription:f}),d=CS.countAvailableSeats({subscription:f}),CS.updateSeats({available:d,used:g}),CS.handleBatchInvitationResponse({response:e})}),$(".add-manager-form").on("ajax:complete",function(a,b,c){var d,e;if(c==="success")return d=JSON.parse(b.responseText),e=d.subscription,CS.handleBatchInvitationResponse({response:d})}),$(".form-add-submit input").on("click",function(a){if($(".add-member-input").filter("[data-valid=true]").length===0)return a.preventDefault()})})}.call(this),function(){CS.toggle=function(a){switch(a.event){case"hover":return $(a.el).on({mouseenter:function(){return $(this).find(a.show).addClass("is-visible")},mouseleave:function(){return $(this).find(a.show).removeClass("is-visible")}}),$(a.el).on("click",function(a){return a.preventDefault()});case"click":return $(a.el).on({click:function(b){var c;b.preventDefault(),c=$(this),c.toggleClass("active"),$(a.el).not(c).removeClass("active"),c.next(a.show).toggleClass("is-visible"),$(a.show).not(c.next(a.show)).removeClass("is-visible");if(a.focus)return $(a.show).find("fieldset input").first().focus()}})}},CS.collapsible=function(a){return a.toggle.on("click",function(b){var c,d;return b.preventDefault(),c=$(this),d=c.find("b"),d.text()==="+"?d.text("-"):d.text("+"),c.toggleClass("active"),a.show.toggleClass("is-visible")})},CS.notify=function(a,b){var c;return c=new CS.Note(".notes"),c["new"]({type:""+b,message:""+a})},CS.notifyError=function(a){var b,c=this;return b=new NotificationMessage("Error",a),b.send(function(){return c.notify(a,"error")})},CS.clearNotifications=function(){return $(".notes .error").removeClass("in").addClass("out")},CS.urlPreview=function(a){return a.input.on("keyup",function(){return a.preview.text(a.input.val())})},CS.mailcheck=function(a){var b;return b=["gmail.com","hotmail.com","yahoo.com","me.com","googlemail.com","live.com","mail.ru","gmx.de","mac.com","aol.com","msn.com","web.de","yandex.ru","comcast.net","hotmail.co.uk","gmx.net","yahoo.co.uk","yahoo.com.br","yahoo.fr","hotmail.fr"],a.input.on("blur",function(){return $(this).mailcheck({domains:b,suggested:function(b,c){return a.suggestedAddress.html(c.address),a.suggestedDomain.html(c.domain),a.suggestionHolder.slideDown(),a.fillInLink.click(function(b){return b.preventDefault(),a.input.val(c.full),a.suggestionHolder.slideUp()})},empty:function(a){}})})},CS.inputSelect=function(a){return a.input.on("click",function(){return $(this).focus().select()})},CS.hashURLs=function(a){var b,c;return c={list:$(".sectionList a"),content:$(".contentSection"),activeClass:"is-active"},c=$.extend(c,a),window.location.hash?b=CS.sanitize(window.location.hash):b=c.list.first().attr("href"),c.content.not(b).hide(),$("[data-hash="+b+"]").addClass(a.activeClass),c.list.on("click",function(d){var e;return e=$(this),d.preventDefault(),b=e.attr("href"),window.location.hash=b,c.list.removeClass(a.activeClass),c.content.hide(),e.addClass(a.activeClass),$(b).show()})},CS.fixOrphanWords=function(a){var b,c,d,e;d=a.text.text().split(" "),b="";for(c=0,e=d.length-1;0<=e?c<=e:c>=e;0<=e?c++:c--)b+=d[c],c===d.length-2?b+="&nbsp;":b+=" ";return a.text.html(b)},CS.scrollTo=function(a){return a.el.on("click",function(b){var c;return b.preventDefault(),c=a.el.attr("href"),$("body, html").animate({scrollTop:parseInt($(c).offset().top)},a.speed)})},CS.limiter=function(a){var b;return b=a.elements.length,b>a.num?(a.elements.not(":lt("+a.num+")").addClass("is-hidden"),a.toggle.on("click",function(b){return b.preventDefault(),$(this).remove(),a.elements.removeClass("is-hidden")})):a.toggle.remove()},CS.clickout=function(a){return $(document).on("click",function(){return a.run()}),a.element.on("click",function(a){return a.stopPropagation()})},CS.escapeOut=function(a){return $(document).on("keyup",function(b){switch(b.which){case 27:if(!$(".modal").is(":visible"))return a.run()}})},CS.sanitize=function(a){return a.replace(/(<([^>]+)>)/ig,"")},CS.toggleClass=function(a){return a.sender.on(a.event,function(b){var c,d,e,f,g;a.event==="click"&&b.preventDefault(),e=$(this),a.senderClass!=null&&e.toggleClass(a.senderClass);if(a.context==null)a.before!=null&&a.before(),a.receiver.toggleClass(a.receiverClass);else switch(a.context){case"next":e.next().toggleClass(a.receiverClass);break;case"prev":e.prev().toggleClass(a.receiverClass);break;case"parent":e.parent().toggleClass(a.receiverClass);break;case"parentNext":e.parent().next().toggleClass(a.receiverClass);break;case"parentPrev":e.parent().prev().toggleClass(a.receiverClass)}if(a.senderActiveTextElementClass!=null)return g=e.find(a.senderActiveTextElementClass),e.attr("data-original-text")!=null?(f=e.attr("data-original-text"),g.text(""+f),e.removeAttr("data-original-text")):(d=e.find(a.senderActiveTextElementClass).text(),c=g.attr("data-active-text"),e.attr("data-original-text",d),g.text(""+c))})},CS.focus=function(a){var b,c;return c=function(){var b,c;return b=$(this),a.receiver!=null?c=b.closest(a.receiver):c=b.parent(),c.removeClass(a.receiverClass),a.senderClass!=null&&b.addClass(a.senderClass),c.addClass(a.receiverClass)},b=function(){var b,c;b=$(this),a.receiver!=null?c=b.closest(a.receiver):c=b.parent(),c.removeClass(a.receiverClass);if(a.senderClass!=null)return b.removeClass(a.senderClass)},a.delegator!=null?$(a.delegator).on("focus",a.sender,c).on("blur",a.sender,b):$(a.sender).on("focus",c).on("blur",b)},CS.filter=function(a){return a.filter.on("click","a",function(b){var c,d;b.preventDefault(),c=$(this),d=c.attr("href").split("#")[1],$(".filter a").removeClass("is-active"),c.toggleClass("is-active"),a.list.removeClass("is-hidden"),d!=="all"&&a.list.not("[data-title~="+d+"]").addClass("is-hidden");if(a.selectionClass!=null)return $(a.selectionClass).html(c.text())})},CS.triggerModal=function(a){var b;return $("a[rel~='modal']").each(function(){return $(this).on("click",function(c){var d,e,f=this;c.preventDefault(),d=$(this),e=function(){return a.modal.modal("show")};switch(a.type){case"team":return b(d,e)}})}),b=function(a,b){return $(".teamModal").load(a.data("path"),b)}},CS.reloadPage=function(){return location.reload(!0)},CS.contentSwap=function(a){return a.toggle.on("click",function(b){var c,d;return b.preventDefault(),d=$(this).attr("href").split("#")[1],c=a.container.attr("class").split(" ")[0],a.container.removeClass("is-visible"),$("."+c+"--"+d).addClass("is-visible")})},CS.scrollTrigger=function(a){var b,c,d;c=400,d=$(window).scrollTop(),b=d-a.el.offset().top>=0-c;if(!a.el.hasClass(a.triggerClass)&&b)return a.el.addClass(a.triggerClass)},CS.queryParams=function(){var a,b,c,d,e,f,g,h;b={},c=(h=window.document.location.search)!=null?h.substr(1):void 0,e=c.split("&");for(f=0,g=e.length;f<g;f++)a=e[f],d=a.split("="),b[d[0]]=d[1];return b},CS.hideAndStay=function(a){return $.cookie(a.cookieName)!==null&&$(a.el).removeClass(a.klass),$(a.trigger).on("click",function(b){return b.preventDefault(),$(a.el).removeClass(a.klass),$.cookie(a.cookieName,"yes")})}}.call(this),function(){jQuery(function(a){return CS.setup(),CS.setMyAccountLink(),CS.tabs(),CS.badgeHover(),CS.toggle({event:"click",el:a(".admin-toolbar .dropdown-toggle"),show:a(".admin-toolbar .dropdown-toolbar ul")}),CS.userBar({toggle:a(".userBar-toggle"),container:a(".content")}),a(".form--authMini-toggle").on("click",function(b){return b.preventDefault(),a(".nav--site li a").addClass("is-hidden"),a(".form--authMini").addClass("is-visible"),a(".form--authMini").find("fieldset input").first().focus()}),a(".form--authMini-close").on("click",function(b){return b.preventDefault(),a(".nav--site li a").removeClass("is-hidden"),a(".form--authMini").removeClass("is-visible")}),CS.mailcheck({input:a("#registration_email, #new_user_registration_email"),suggestionHolder:a(".suggest"),suggestedAddress:a(".suggest-address"),suggestedDomain:a(".suggest-domain"),fillInLink:a(".suggest-email")}),a(".tour-toggle").click(function(b){return new CS.Tour({tour:a(".modal.tour"),slides:a(".tour-slide"),steps:a(".tour-steps .step"),next:a(".btn-tour"),set_username_form:a("#set-username-form")})}),a("a[data-assertion-url]:first").click(function(b){var c;return b.preventDefault(),c=a(this).data("assertion-url"),OpenBadges.issue([c],function(a,b){})}),CS.clickout({element:a(".dropdown-toggle"),run:function(){return a(".dropdown-toggle").removeClass("active"),a(".dropdown-menu").removeClass("is-visible")}})})}.call(this)